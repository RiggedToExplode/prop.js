$P.Sprite=class extends $P.Base{constructor(s,t=new $P.Coord(1,1)){super(),this._img=new Image,this._img.src=s,this._scale=t}set _src(s){this._img.src=s}set src(s){this._img.src=s}set scale(s){this._scale=s}get _src(){return this._img.src}get src(){return this._img.src}get img(){return this._img}get scale(){return this._scale}applyTo(s,t=!0){s._sprite=this,s.draw=t?function(s,t){s.save(),s.translate(t.x,t.y),s.rotate(this._radians),s.beginPath(),this._sprite.draw(s,new $P.Coord(0,0)),s.closePath(),s.stroke(),s.fill(),s.restore()}:function(s,t){s.save(),s.translate(t.x,t.y),s.rotate(this._radians),s.beginPath(),this._sprite.draw(s,new $P.Coord(0,0),!1),s.closePath(),s.stroke(),s.fill(),s.restore()}}copy(s=new $P.Coord(1,1)){return new $P.Sprite(this._img.src,s)}draw(s,t,e=!0){s.beginPath(),s.save(),s.scale(this._scale.x,this._scale.y),e?s.drawImage(this._img,t.x-this._img.width/2,t.y-this._img.height/2):s.drawImage(this._img,t.x,t.y),s.restore(),s.closePath()}};