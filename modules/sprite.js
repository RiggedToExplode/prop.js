$P.Sprite=class extends $P.Base{constructor(e,s=new $P.Coord(1,1)){super(),this._img=new Image,this._img.src=e,this._scale=s}set scale(e){this._scale=e}get scale(){return this._scale}applyTo(e,s=!0){e._sprite=this,e.draw=s?function(e,s){e.save(),e.translate(s.x,s.y),e.rotate(this._radians),e.beginPath(),this._sprite.draw(e,new $P.Coord(0,0)),e.closePath(),e.stroke(),e.fill(),e.restore()}:function(e,s){e.save(),e.translate(s.x,s.y),e.rotate(this._radians),e.beginPath(),this._sprite.draw(e,new $P.Coord(0,0),!1),e.closePath(),e.stroke(),e.fill(),e.restore()}}copy(e=new $P.Coord(1,1)){return new $P.Sprite(this._img.src,e)}draw(e,s,t=!0){e.beginPath(),e.save(),e.scale(this._scale.x,this._scale.y),t?e.drawImage(this._img,s.x-this._img.width/2,s.y-this._img.height/2):e.drawImage(this._img,s.x,s.y),e.restore(),e.closePath()}};